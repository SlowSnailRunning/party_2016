<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>成绩页面</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="/images/favicon.ico">
    <link rel="stylesheet" href="../layui/css/layui.css" media="all">
    <!--<script type="text/javascript" src="../js/jquery-3.3.1.js"></script>-->
    <script type="text/javascript" src="../layui/layui.js"></script>
</head>
<body style="font-size:12px; width:100%; margin:auto;">
<div align="center" style="background-color: white;">
    <img src="images/logo.png"/>
</div>
<div style="font-size:31px;color:red;font-family:宋体;text-align:center;margin-top:10px;margin-bottom:-8px;">
    考试:<b id="examName"></b>
    &nbsp;&nbsp;&nbsp;&nbsp;分数:<b id="score"></b>
    &nbsp;&nbsp;&nbsp;&nbsp;学生姓名:<b id="studentName"></b>
    &nbsp;&nbsp;&nbsp;&nbsp;学号:<b id="studentNo"></b>
    &nbsp;&nbsp;&nbsp;&nbsp;<input class="layui-btn layui-btn-radius layui-btn-danger" value="退出" id="endExam" type="button"/>
</div>
<center>
    <table class="layui-hide" id="LAY_table_user" lay-filter="demo" style="font-size: 10px;width: 100%;"></table>
</center>
<script>
    layui.use(['table', 'jquery'], function () {
        var table = layui.table;
        var $ = layui.jquery;
        //渲染表格
        table.render({
            elem: '#LAY_table_user'
            , url: '/examinee/getScore.do'
            , size: 'sm'
            , heigth: "full-500"
            , cols: [[
                {field: 'unmber', title: '序号', width: 40, type: "numbers"}
                , {field: 'intro', title: '题干', width: 450}
                , {field: 'optionA', title: '选项A', width: 150}
                , {field: 'optionB', title: '选项B', width: 150}
                , {field: 'optionC', title: '选项C', width: 150}
                , {field: 'optionD', title: '选项D', width: 150}
                // , {field: 'result', title: '正确答案', width: 80}
                , {field: 'answer', title: '答案', width: 60}
                , {
                    title: '结果', width: 60, templet: function (data) {
                        if (data.result == data.selected) {
                            return '<i class="layui-icon" style="color: red">&#xe605;</i>';
                        } else {
                            return '<i class="layui-icon">&#x1006;</i>';
                        }
                    }
                }
            ]]
            , id: 'testReload'
            , done: function (res) {
                $("#studentName").text(res.studentName);
                $("#studentNo").text(res.studentNo);
                $("#examName").text(res.examName);
                $("#score").text(res.examScore);
                if (res.makeUpBtn == 1) {
                    $("#endExam").val("参加补考");
                    $("#endExam").click(function () {
                        window.location.href = "/loginSuccess.do";
                    });
                } else {
                    $("#endExam").val("退出");
                    $("#endExam").click(function () {
                        $.post("/user/logout.do", {}, function (data) {
                            window.location.href = data.replace(/"/g, "");
                        });
                    });
                }
            }
        });
//end表格渲染
        //监听工具条	结束
    });
</script>

</body>
</html>
